// components/MusicPlayer.js
import { useState, useEffect } from "react"; // Pastikan Anda mengimpor React

const MusicPlayer = () => {
  const [isPlaying, setIsPlaying] = useState(true);
  const audioUrl = "/audio/jatuh-cinta.mp3";

  useEffect(() => {
    const audio = new Audio(audioUrl);

    audio.loop = true;

    if (isPlaying) {
      audio.play();
    } else {
      audio.pause();
    }

    return () => {
      audio.pause();
      audio.currentTime = 0;
    };
  }, [isPlaying, audioUrl]);

  const togglePlayPause = () => {
    setIsPlaying(!isPlaying);
  };

  return (
    <div className="fixed right-2 top-1/2 transform -translate-y-1/2" style={{ zIndex: 9998}}>
      <button
        onClick={togglePlayPause}
        className="bg-white/70 text-white w-8 h-8 rounded-full flex items-center justify-center"
      >
        {isPlaying ? (
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.854632 0.145655C0.808144 0.099167 0.752954 0.0622909 0.692215 0.0371318C0.631476 0.0119727 0.566375 -0.000976562 0.500632 -0.000976562C0.434888 -0.000976563 0.369788 0.0119727 0.309048 0.0371318C0.248309 0.0622909 0.193119 0.099167 0.146631 0.145655C0.100144 0.192143 0.0632674 0.247332 0.0381083 0.308072C0.0129493 0.368811 -4.8983e-10 0.433911 0 0.499655C4.8983e-10 0.565399 0.0129493 0.630499 0.0381083 0.691238C0.0632674 0.751978 0.100144 0.807167 0.146631 0.853655L5.00063 5.70665V11.4997C4.55009 11.1618 3.99866 10.9859 3.43568 11.0005C2.87269 11.0151 2.33114 11.2194 1.89876 11.5803C1.46639 11.9411 1.16851 12.4374 1.05341 12.9887C0.938301 13.54 1.0127 14.114 1.26456 14.6177C1.51642 15.1214 1.93098 15.5253 2.44107 15.764C2.95116 16.0027 3.52691 16.0622 4.07501 15.9328C4.62312 15.8034 5.11149 15.4927 5.46098 15.0511C5.81048 14.6095 6.00063 14.0628 6.00063 13.4997V6.70665L9.41463 10.1207C9.09598 10.6014 8.95337 11.1776 9.01098 11.7515C9.06858 12.3254 9.32286 12.8617 9.73071 13.2696C10.1386 13.6774 10.6749 13.9317 11.2488 13.9893C11.8227 14.0469 12.3989 13.9043 12.8796 13.5857L15.1466 15.8537C15.2405 15.9475 15.3679 16.0003 15.5006 16.0003C15.6334 16.0003 15.7607 15.9475 15.8546 15.8537C15.9485 15.7598 16.0013 15.6324 16.0013 15.4997C16.0013 15.3669 15.9485 15.2395 15.8546 15.1457L0.854632 0.145655ZM12.1476 12.8537C11.8677 12.9873 11.5533 13.031 11.2475 12.9785C10.9418 12.926 10.6599 12.7801 10.4405 12.5608C10.2212 12.3414 10.0752 12.0595 10.0228 11.7538C9.97033 11.448 10.014 11.1336 10.1476 10.8537L12.1476 12.8537ZM3.50063 11.9997C3.89846 11.9997 4.27999 12.1577 4.56129 12.439C4.8426 12.7203 5.00063 13.1018 5.00063 13.4997C5.00063 13.8975 4.8426 14.279 4.56129 14.5603C4.27999 14.8416 3.89846 14.9997 3.50063 14.9997C3.10281 14.9997 2.72128 14.8416 2.43997 14.5603C2.15867 14.279 2.00063 13.8975 2.00063 13.4997C2.00063 13.1018 2.15867 12.7203 2.43997 12.439C2.72128 12.1577 3.10281 11.9997 3.50063 11.9997ZM11.5006 8.99965C11.3806 8.99965 11.2626 9.00765 11.1466 9.02465L13.9766 11.8537C13.9916 11.7377 14.0006 11.6197 14.0006 11.4997V1.17966C14.0005 1.02287 13.9636 0.868301 13.8928 0.728429C13.8219 0.588557 13.7192 0.4673 13.5929 0.374448C13.4665 0.281596 13.3201 0.219749 13.1655 0.193903C13.0108 0.168056 12.8523 0.178933 12.7026 0.225655L5.70263 2.41266C5.56653 2.45506 5.44106 2.52607 5.33465 2.62092C5.22823 2.71578 5.14333 2.8323 5.08563 2.96265L6.00063 3.87966V3.36865L13.0006 1.18066V3.13265L7.09863 4.97666L7.89663 5.77466L13.0006 4.17966V9.49965C12.5682 9.17445 12.0417 8.99893 11.5006 8.99965Z"
              fill="#f35815"
            />
          </svg>
        ) : (
          <svg
            width="16"
            height="15"
            viewBox="0 0 16 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5 1.1L16 0V11C16 11.7956 15.6839 12.5587 15.1213 13.1213C14.5587 13.6839 13.7956 14 13 14C12.2044 14 11.4413 13.6839 10.8787 13.1213C10.3161 12.5587 10 11.7956 10 11C10 10.2044 10.3161 9.44129 10.8787 8.87868C11.4413 8.31607 12.2044 8 13 8C13.77 8 14.47 8.29 15 8.76V4.04L6 5.04V12C6 12.7956 5.68393 13.5587 5.12132 14.1213C4.55871 14.6839 3.79565 15 3 15C2.20435 15 1.44129 14.6839 0.87868 14.1213C0.316071 13.5587 0 12.7956 0 12C0 11.2044 0.316071 10.4413 0.87868 9.87868C1.44129 9.31607 2.20435 9 3 9C3.77 9 4.47 9.29 5 9.76V1.1ZM6 2V4.03L15 3.04V1.09L6 2ZM5 12C5 11.4696 4.78929 10.9609 4.41421 10.5858C4.03914 10.2107 3.53043 10 3 10C2.46957 10 1.96086 10.2107 1.58579 10.5858C1.21071 10.9609 1 11.4696 1 12C1 12.5304 1.21071 13.0391 1.58579 13.4142C1.96086 13.7893 2.46957 14 3 14C3.53043 14 4.03914 13.7893 4.41421 13.4142C4.78929 13.0391 5 12.5304 5 12ZM15 11C15 10.4696 14.7893 9.96086 14.4142 9.58579C14.0391 9.21071 13.5304 9 13 9C12.4696 9 11.9609 9.21071 11.5858 9.58579C11.2107 9.96086 11 10.4696 11 11C11 11.5304 11.2107 12.0391 11.5858 12.4142C11.9609 12.7893 12.4696 13 13 13C13.5304 13 14.0391 12.7893 14.4142 12.4142C14.7893 12.0391 15 11.5304 15 11Z"
              fill="#f35815"
            />
          </svg>
        )}
      </button>
    </div>
  );
};

export default MusicPlayer;
